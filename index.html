<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Get FREE Steal a Brainrot Items - 100% Working | Claim Now</title>
    <meta name="description" content="Get free Steal a Brainrot items instantly! Select up to 3 items and claim them for free. Join thousands of players getting free items daily.">
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <style>
        /* ===== MODERN BASE STYLES ===== */
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        img, video, iframe {
            max-width: 100%;
            height: auto;
        }
        
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow-x: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            background-attachment: fixed;
            background-repeat: repeat;
            background-position: center center;
            animation: gradientShift 15s ease infinite;
        }

        body {
            margin: 0;
            padding: 0;
            width: 100%;
            min-height: 100vh;
            height: auto;
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            position: relative;
            overflow-x: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            background-attachment: fixed;
            background-repeat: repeat;
            background-position: center center;
            animation: gradientShift 15s ease infinite;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            background-attachment: fixed;
            background-repeat: repeat;
            background-position: center center;
            animation: gradientShift 15s ease infinite;
            z-index: -9999;
            pointer-events: none;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body.no-scroll {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        /* ===== CONTAINER & LAYOUT ===== */
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            padding: 15px 10px 100px;
            padding-bottom: 150px;
            position: relative;
            z-index: 1;
            box-sizing: border-box;
        }

        /* ===== URGENCY BANNER ===== */
        .urgency-banner {
            background: linear-gradient(135deg, #ff4444, #ff6b6b);
            color: white;
            text-align: center;
            padding: 10px;
            font-weight: 800;
            font-size: 0.9em;
            box-shadow: 0 4px 15px rgba(255, 68, 68, 0.4);
            animation: pulseBanner 2s ease-in-out infinite;
            position: relative;
            overflow: hidden;
            width: 100%;
            box-sizing: border-box;
        }

        @keyframes pulseBanner {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .urgency-banner::before {
            content: '⚡';
            margin-right: 8px;
            animation: flash 1s ease-in-out infinite;
        }

        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* ===== HEADER SECTION ===== */
        .header-section {
            text-align: center;
            margin-bottom: 20px;
            animation: fadeInDown 0.8s ease;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo-container {
            margin-bottom: 15px;
        }

        .logo-container img {
            max-width: 140px;
            filter: drop-shadow(0 8px 20px rgba(255, 215, 0, 0.6));
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .main-title {
            font-size: 2em;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 4px 15px rgba(0,0,0,0.3);
            margin: 10px 0;
            letter-spacing: 2px;
            font-family: 'Orbitron', sans-serif;
        }

        .subtitle {
            font-size: 1.1em;
            color: rgba(255,255,255,0.95);
            font-weight: 600;
            margin-bottom: 15px;
            text-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        /* ===== ACTIVE USERS BOX ===== */
        .top-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .active-users-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            font-size: 1em;
            min-width: 200px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.2);
            font-weight: 700;
            height: 50px;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .active-users-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .active-users-box:hover::before {
            left: 100%;
        }

        .active-users-box:active {
            transform: scale(0.98);
        }

        .active-users-box span:first-child {
            color: #fff;
            margin-right: 8px;
            font-weight: 700;
        }

        .active-users-count {
            font-weight: 900;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            color: #FFD700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* ===== LIMITED STOCK INDICATOR ===== */
        .stock-indicator {
            background: linear-gradient(135deg, #ff6b6b, #ff4444);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 12px;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85em;
            font-weight: 700;
            color: white;
            box-shadow: 0 4px 15px rgba(255, 68, 68, 0.3);
        }

        .stock-indicator .stock-count {
            background: white;
            color: #ff4444;
            padding: 2px 8px;
            border-radius: 8px;
            font-weight: 900;
            animation: blink 1.5s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* ===== SELECTION TITLE ===== */
        .select-title {
            margin: 20px 0 15px;
            text-align: center;
            font-size: 1.3em;
            color: #fff;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            padding: 12px 0;
            position: relative;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.2);
        }

        .select-title::after {
            content: '✨';
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2em;
            animation: sparkle 2s ease-in-out infinite;
        }

        .select-title::before {
            content: '✨';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2em;
            animation: sparkle 2s ease-in-out infinite 1s;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.5; transform: translateY(-50%) scale(1); }
            50% { opacity: 1; transform: translateY(-50%) scale(1.2); }
        }

        /* ===== ITEMS GRID ===== */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
        }

        .item-card {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            padding: 12px 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 3px solid transparent;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            min-height: 120px;
            position: relative;
            backdrop-filter: blur(10px);
            pointer-events: auto;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        .item-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,191,0,0.05));
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 0;
        }

        .item-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border-color: rgba(255,215,0,0.5);
        }

        .item-card:hover::before {
            opacity: 1;
        }

        .item-card:active {
            transform: translateY(-2px) scale(0.98);
        }

        .item-card.selected {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: 3px solid #FFD700;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.8), 0 8px 30px rgba(255, 215, 0, 0.4);
            animation: selectedGlow 2s ease-in-out infinite;
        }

        @keyframes selectedGlow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 8px 30px rgba(255, 215, 0, 0.3);
            }
            50% {
                box-shadow: 0 0 35px rgba(255, 215, 0, 1), 0 8px 40px rgba(255, 215, 0, 0.6);
            }
        }

        .item-card.selected::after {
            content: '✓';
            position: absolute;
            top: 5px;
            right: 5px;
            background: #4CAF50;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            z-index: 2;
            pointer-events: none;
        }

        .item-img {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 12px;
            background: #f0f0f0;
            margin-bottom: 8px;
            border: 2px solid rgba(0,0,0,0.1);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            transition: all 0.3s;
            position: relative;
            z-index: 1;
            pointer-events: none;
        }

        .item-card.selected .item-img {
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            border-color: #FFD700;
            transform: scale(1.1);
        }

        .item-name {
            font-size: 0.85em;
            color: #333;
            text-align: center;
            font-weight: 700;
            letter-spacing: 0.3px;
            margin: 0;
            line-height: 1.2;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            position: relative;
            z-index: 1;
            padding: 0 4px;
            pointer-events: none;
        }

        .item-card.selected .item-name {
            color: #8b6914;
            text-shadow: 0 1px 3px rgba(255, 215, 0, 0.5);
        }

        /* ===== SELECTION CONTROLS ===== */
        .selection-controls {
            text-align: center;
            padding: 10px 0 20px;
            min-height: 30px;
        }

        #selection-limit-message {
            display: none;
            color: #ff4444;
            font-weight: 700;
            font-size: 1em;
            background: rgba(255,255,255,0.95);
            padding: 10px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(255,68,68,0.3);
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* ===== CONTINUE BUTTON ===== */
        #continue-btn {
            display: none;
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1001;
            padding: 18px 50px;
            font-size: 1.2em;
            font-weight: 900;
            color: white;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF6347 100%);
            border: 3px solid rgba(255, 255, 255, 0.5);
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.6), 0 0 0 0 rgba(255, 215, 0, 0.8), inset 0 2px 10px rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: buttonPulse 2s ease-in-out infinite;
            overflow: hidden;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        #continue-btn[style*="display: block"],
        #continue-btn[style*="display:flex"] {
            display: flex !important;
        }

        #continue-btn i {
            font-size: 1.1em;
        }

        #continue-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        #continue-btn:hover::before {
            left: 100%;
        }

        @keyframes buttonPulse {
            0%, 100% {
                box-shadow: 0 10px 40px rgba(255, 215, 0, 0.6), 0 0 0 0 rgba(255, 215, 0, 0.8), inset 0 2px 10px rgba(255, 255, 255, 0.3);
                transform: translateX(-50%) scale(1);
            }
            50% {
                box-shadow: 0 12px 50px rgba(255, 215, 0, 0.8), 0 0 0 15px rgba(255, 215, 0, 0), inset 0 2px 10px rgba(255, 255, 255, 0.4);
                transform: translateX(-50%) scale(1.02);
            }
        }

        #continue-btn:hover {
            transform: translateX(-50%) translateY(-5px) scale(1.05);
            box-shadow: 0 15px 50px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.5), inset 0 2px 15px rgba(255, 255, 255, 0.4);
        }

        #continue-btn:active {
            transform: translateX(-50%) translateY(-2px) scale(1.02);
        }

        /* ===== ENHANCED NOTIFICATIONS ===== */
        .cliameds {
            position: fixed;
            bottom: 5px;
            left: 10px;
            z-index: 998;
            max-width: 280px;
        }

        .message {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.95), rgba(118, 75, 162, 0.95));
            display: flex;
            font-size: 0.75rem;
            align-items: center;
            padding: 10px 14px;
            border-radius: 12px;
            border: 2px solid rgba(255,255,255,0.3);
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            animation: slideInLeft 0.5s ease;
        }

        @keyframes slideInLeft {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .message .img {
            padding-right: 10px;
            z-index: 2;
        }

        .message .img img {
            width: 40px;
            background: #fff;
            border-radius: 50%;
            height: 40px;
            border: 2px solid #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .message .more {
            z-index: 2;
        }

        .message .more div:first-child {
            font-weight: 800;
            color: #FFD700;
            font-size: 0.9em;
        }

        .message .more div:last-child {
            color: #fff;
            font-weight: 600;
            font-size: 0.85em;
        }

        /* ===== TRUST BADGES SECTION ===== */
        .trust-section {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .trust-badge-item {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85em;
            color: #fff;
            font-weight: 600;
        }

        .trust-badge-item i {
            color: #FFD700;
        }

        /* ===== EXIT INTENT POPUP ===== */
        .exit-intent-popup {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            padding: 15px;
            backdrop-filter: blur(5px);
        }

        .exit-popup-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 25px;
            border-radius: 20px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            color: white;
            border: 2px solid rgba(102, 126, 234, 0.5);
            box-shadow: 0 0 50px rgba(102, 126, 234, 0.5);
            position: relative;
        }

        .exit-popup-content h3 {
            color: #667eea;
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: 900;
        }

        .exit-popup-content p {
            color: #e0e0e0;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .exit-popup-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 50px;
            font-weight: 800;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            width: 100%;
        }

        .exit-popup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .exit-close {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #ff5555;
            cursor: pointer;
            font-size: 24px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .exit-close:hover {
            background: rgba(255,85,85,0.2);
            transform: rotate(90deg);
        }

        /* ===== LOCKER STYLES ===== */
        .locker-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            padding: 10px;
            animation: fadeIn 0.4s ease;
            backdrop-filter: blur(5px);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .locker-box {
            width: 100%;
            max-width: 360px;
            max-height: 95vh;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            color: #e0e0e0;
            box-shadow: 0 0 50px rgba(102, 126, 234, 0.5);
            position: relative;
            display: flex;
            flex-direction: column;
            border: 2px solid rgba(102, 126, 234, 0.3);
            overflow: hidden;
            box-sizing: border-box;
        }

        .locker-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .locker-logo {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 700;
            color: #667eea;
            font-size: 0.75rem;
        }

        .locker-box h2 {
            color: #667eea;
            margin: 5px 0;
            font-size: 1rem;
            text-shadow: 0 0 15px rgba(102, 126, 234, 0.5);
        }

        .cta-strong {
            font-size: 0.75rem;
            font-weight: 600;
            color: #00e5ff;
            margin-bottom: 8px;
            line-height: 1.3;
            background: rgba(0,229,255,0.15);
            padding: 8px;
            border-radius: 8px;
            border-left: 2px solid #00e5ff;
        }

        .game-preview-locker {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            text-align: left;
            background: rgba(0,0,0,0.4);
            padding: 8px;
            border-radius: 8px;
            border-left: 2px solid #667eea;
        }

        .game-preview-locker img {
            width: 35px;
            height: 35px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .game-preview-content h3 {
            margin: 0;
            font-size: 0.75rem;
            color: #e0e0e0;
            line-height: 1.2;
        }

        .file-info {
            font-size: 0.6rem;
            color: #aaa;
            margin-top: 3px;
        }

        .platform-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.6rem;
            font-weight: bold;
            margin-top: 3px;
        }

        .progress-container {
            margin: 8px 0;
            background: rgba(0,0,0,0.4);
            padding: 8px;
            border-radius: 8px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.7rem;
            color: #aaa;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 0 8px rgba(102, 126, 234, 0.2) inset;
            margin-bottom: 5px;
        }

        #progressFill {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            transition: width 0.4s ease;
            border-radius: 6px;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.6);
        }

        .progress-text {
            font-size: 0.65rem;
            color: #888;
            display: flex;
            justify-content: space-between;
        }

        #statusMessage {
            margin-top: 6px;
            font-weight: bold;
            font-size: 0.7rem;
            color: #667eea;
            min-height: 16px;
            line-height: 1.3;
            background: rgba(102, 126, 234, 0.15);
            padding: 6px;
            border-radius: 6px;
        }

        .close-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            font-size: 20px;
            color: #ff5555;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            z-index: 10;
            background: rgba(255,85,85,0.1);
        }

        .close-btn:hover {
            background: rgba(255,85,85,0.3);
            transform: scale(1.1) rotate(90deg);
        }

        /* ===== OFFER BOXES ===== */
        .offers-section {
            margin-top: 8px;
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
        }

        .offers-section h3 {
            color: #667eea;
            margin-bottom: 6px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 6px;
            justify-content: center;
        }

        #offersList {
            display: flex;
            flex-direction: column;
            gap: 6px;
            flex: 1;
            min-height: 0;
            overflow-y: auto;
            padding-right: 2px;
        }

        #offersList::-webkit-scrollbar {
            width: 3px;
        }

        #offersList::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.2);
            border-radius: 3px;
        }

        #offersList::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 3px;
        }

        .offer-card {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
            border: 1.5px solid rgba(102, 126, 234, 0.5);
            padding: 8px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
            min-height: 50px;
            flex-shrink: 0;
        }

        .offer-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background: linear-gradient(to bottom, #667eea, #764ba2);
        }

        .offer-card:hover {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
            border-color: #667eea;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .offer-content {
            flex: 1;
            text-align: left;
            min-width: 0;
        }

        .offer-title {
            font-size: 0.7rem;
            font-weight: 700;
            color: #e0e0e0;
            margin-bottom: 3px;
            line-height: 1.2;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .offer-details {
            display: flex;
            gap: 6px;
            font-size: 0.6rem;
            color: #aaa;
            flex-wrap: wrap;
        }

        .offer-detail {
            display: flex;
            align-items: center;
            gap: 3px;
            white-space: nowrap;
        }

        .offer-detail i {
            font-size: 0.55rem;
        }

        .offer-badge {
            background: linear-gradient(135deg, #00e5ff, #667eea);
            color: #fff;
            padding: 3px 6px;
            border-radius: 8px;
            font-size: 0.6rem;
            font-weight: bold;
            white-space: nowrap;
            box-shadow: 0 1px 4px rgba(0,229,255,0.3);
            flex-shrink: 0;
        }

        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid rgba(255,255,255,0.1);
            flex-wrap: wrap;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 3px;
            font-size: 0.6rem;
            color: #aaa;
        }

        .trust-badge i {
            color: #667eea;
            font-size: 0.65rem;
        }

        /* ===== PURCHASE POPUP ===== */
        .purchase-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            padding: 15px;
        }

        .popup-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 20px;
            border-radius: 15px;
            width: 100%;
            max-width: 380px;
            max-height: 95vh;
            box-shadow: 0 0 50px rgba(102, 126, 234, 0.5);
            text-align: center;
            color: white;
            border: 2px solid rgba(102, 126, 234, 0.3);
            overflow-y: auto;
        }

        .popup-header {
            position: relative;
            padding-bottom: 12px;
            margin-bottom: 12px;
        }

        .popup-header h3 {
            font-size: 1.3em;
            margin: 0;
            color: #667eea;
            font-weight: 800;
        }

        .popup-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 10%;
            right: 10%;
            height: 2px;
            background: linear-gradient(to right, transparent, #667eea, transparent);
        }

        .selected-images-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin: 12px auto;
            flex-wrap: wrap;
        }

        .item-popup-image-small {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            object-fit: cover;
            border: 2px solid #667eea;
            box-shadow: 0 3px 12px rgba(102, 126, 234, 0.4);
        }

        .item-confirm {
            font-size: 1em;
            margin: 12px 0;
            color: #e0e0e0;
            font-weight: 700;
            line-height: 1.4;
        }

        .input-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            background-color: rgba(255,255,255,0.1);
            color: #fff;
            border: 2px solid rgba(102, 126, 234, 0.5);
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            background-color: rgba(255,255,255,0.15);
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.3);
        }

        .input-group input::placeholder {
            color: #aaa;
            font-weight: 500;
        }

        .popup-buttons {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .cancel-btn {
            background-color: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 12px;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            flex: 1;
            font-size: 0.95em;
            transition: all 0.3s;
        }

        .cancel-btn:hover {
            background-color: rgba(255,255,255,0.2);
        }

        .free-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 6px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
        }

        .free-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .free-btn .free-badge {
            color: #fff;
            font-weight: 900;
            display: flex;
            align-items: center;
            font-size: 1em;
        }

        .free-btn .free-icon {
            width: 18px;
            height: 18px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #667eea;
            font-size: 0.85em;
        }

        /* ===== LOADING ANIMATION ===== */
        .folding {
            margin: 20px auto;
            width: 60px;
            height: 60px;
            position: relative;
            transform: rotateZ(45deg);
        }

        .folding .sk-cube {
            float: left;
            width: 50%;
            height: 50%;
            position: relative;
            transform: scale(1.1);
        }

        .folding .sk-cube:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #667eea;
            animation: sk-foldCubeAngle 2.4s infinite linear both;
            transform-origin: 100% 100%;
        }

        .folding .sk-cube2 {
            transform: scale(1.1) rotateZ(90deg);
        }

        .folding .sk-cube3 {
            transform: scale(1.1) rotateZ(180deg);
        }

        .folding .sk-cube4 {
            transform: scale(1.1) rotateZ(270deg);
        }

        .folding .sk-cube2:before {
            animation-delay: 0.3s;
        }

        .folding .sk-cube3:before {
            animation-delay: 0.6s;
        }

        .folding .sk-cube4:before {
            animation-delay: 0.9s;
        }

        @keyframes sk-foldCubeAngle {
            0%, 10% {
                transform: perspective(140px) rotateX(-180deg);
                opacity: 0;
            }
            25%, 75% {
                transform: perspective(140px) rotateX(0deg);
                opacity: 1;
            }
            90%, 100% {
                transform: perspective(140px) rotateY(180deg);
                opacity: 0;
            }
        }

        .searching-text {
            color: #e0e0e0;
            font-size: 1.1em;
            margin-top: 15px;
            font-weight: 600;
        }

        .result-username {
            color: #667eea;
            font-size: 1.3em;
            font-weight: 800;
            margin: 15px 0;
        }

        .get-item-now-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 10px;
            font-weight: 800;
            cursor: pointer;
            width: 100%;
            font-size: 1.1em;
            margin-top: 15px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .get-item-now-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .d-none {
            display: none !important;
        }

        .user-error {
            color: #ff6b6b;
            font-size: 0.9em;
            margin-top: 8px;
            text-align: center;
            font-weight: 600;
        }

        /* ===== MOBILE OPTIMIZATION ===== */
        @media (max-width: 480px) {
            .container {
                padding: 10px 8px 90px;
            }

            .urgency-banner {
                font-size: 0.75em;
                padding: 8px;
            }

            .logo-container img {
                max-width: 100px;
            }

            .main-title {
                font-size: 1.5em;
            }

            .subtitle {
                font-size: 0.9em;
            }

            .active-users-box {
                font-size: 0.85em;
                min-width: 160px;
                padding: 10px 15px;
                height: 42px;
            }

            .stock-indicator {
                font-size: 0.7em;
                padding: 6px 10px;
            }

            .select-title {
                font-size: 1em;
                padding: 8px 0;
                margin: 15px 0 10px;
            }

            .select-title::after,
            .select-title::before {
                display: none;
            }

            .items-grid {
                gap: 8px;
            }

            .item-card {
                min-height: 100px;
                padding: 10px 6px;
            }

            .item-img {
                width: 55px;
                height: 55px;
            }

            .item-name {
                font-size: 0.7em;
            }

            .trust-section {
                gap: 8px;
                margin: 15px 0;
            }

            .trust-badge-item {
                font-size: 0.7em;
                padding: 6px 10px;
            }

            .locker-box {
                max-width: 95%;
                max-height: 98vh;
                padding: 12px;
            }

            .locker-header {
                margin-bottom: 6px;
                padding-bottom: 6px;
            }

            .locker-logo {
                font-size: 0.7rem;
            }

            .locker-box h2 {
                font-size: 0.9rem;
                margin: 4px 0;
            }

            .cta-strong {
                font-size: 0.7rem;
                padding: 6px;
                margin-bottom: 6px;
            }

            .game-preview-locker {
                padding: 6px;
                margin-bottom: 6px;
            }

            .game-preview-locker img {
                width: 30px;
                height: 30px;
            }

            .game-preview-content h3 {
                font-size: 0.7rem;
            }

            .progress-container {
                margin: 6px 0;
                padding: 6px;
            }

            .progress-header {
                font-size: 0.65rem;
                margin-bottom: 4px;
            }

            .progress-bar {
                height: 5px;
            }

            #statusMessage {
                font-size: 0.65rem;
                padding: 5px;
                margin-top: 4px;
            }

            .offers-section h3 {
                font-size: 0.75rem;
                margin-bottom: 4px;
            }

            .offer-card {
                padding: 6px 8px;
                min-height: 45px;
            }

            .offer-title {
                font-size: 0.65rem;
            }

            .offer-details {
                font-size: 0.55rem;
                gap: 4px;
            }

            .offer-badge {
                font-size: 0.55rem;
                padding: 2px 5px;
            }

            .trust-badges {
                gap: 4px;
                margin-top: 6px;
                padding-top: 6px;
            }

            .trust-badge {
                font-size: 0.55rem;
            }

            .close-btn {
                width: 20px;
                height: 20px;
                font-size: 18px;
                top: 6px;
                right: 6px;
            }

            .cliameds {
                bottom: 5px;
                left: 8px;
                max-width: 240px;
            }

            .message {
                font-size: 0.65rem;
                padding: 8px 10px;
            }

            .message .img img {
                width: 32px;
                height: 32px;
            }

            .popup-content {
                padding: 15px;
                max-height: 90vh;
            }

            .popup-header h3 {
                font-size: 1.1em;
            }

            .item-popup-image-small {
                width: 45px;
                height: 45px;
            }

            .item-confirm {
                font-size: 0.9em;
                margin: 10px 0;
            }

            .input-group input {
                padding: 10px;
                font-size: 0.9em;
            }

            .popup-buttons {
                gap: 8px;
            }

            .cancel-btn,
            .free-btn {
                padding: 10px;
                font-size: 0.9em;
            }
        }

        /* ===== RESPONSIVE STYLES ===== */
        @media (min-width: 481px) and (max-width: 767px) {
            .locker-box {
                max-width: 380px;
                max-height: 92vh;
                padding: 18px;
            }

            .offer-card {
                padding: 10px 12px;
                min-height: 55px;
            }
        }

        @media (min-width: 768px) {
            .items-grid {
                gap: 18px;
            }
            
            .item-img {
                width: 90px;
                height: 90px;
            }
            
            .item-name {
                font-size: 1em;
            }
            
            .select-title {
                font-size: 1.6em;
            }
            
            .active-users-box {
                font-size: 1.1em;
                min-width: 220px;
                padding: 14px 25px;
                height: 55px;
            }
            
            .locker-box {
                max-width: 450px;
                max-height: 90vh;
            }

            .main-title {
                font-size: 3em;
            }
        }

        @media (min-width: 992px) {
            .items-grid {
                grid-template-columns: repeat(5, 1fr);
                gap: 20px;
            }
            
            .item-img {
                width: 100px;
                height: 100px;
            }
            
            .select-title {
                font-size: 1.8em;
            }
            
            .active-users-box {
                font-size: 1.2em;
                min-width: 250px;
                padding: 16px 30px;
                height: 60px;
            }
            
            .locker-box {
                max-width: 500px;
            }
        }
    </style>
</head>

<body>
    <!-- URGENCY BANNER -->
    <div class="urgency-banner" id="urgencyBanner">
        LIMITED TIME: Only <span id="stockCount">47</span> items left! Claim yours before they're gone!
    </div>

    <div class="container">
        <div class="header-section">
            <div class="logo-container">
                <img src="https://static.wikia.nocookie.net/stealabr/images/7/76/Childhood_gambling.png" alt="Steal a Brainrot Logo">
            </div>
            
            <h1 class="main-title">STEAL A BRAINROT</h1>
            <p class="subtitle">Get FREE Items Instantly - 100% Working Method</p>
            
            <div class="top-bar">
                <div class="active-users-box">
                    <span><i class="fas fa-users"></i> Active Users:</span>
                    <span class="active-users-count" id="activeUsersCount"></span>
                </div>
                <div class="stock-indicator">
                    <i class="fas fa-fire"></i>
                    <span>Only <span class="stock-count" id="stockCount2">47</span> left!</span>
                </div>
            </div>

            <div class="trust-section">
                <div class="trust-badge-item">
                    <i class="fas fa-shield-check"></i>
                    <span>100% Safe</span>
                </div>
                <div class="trust-badge-item">
                    <i class="fas fa-bolt"></i>
                    <span>Instant Delivery</span>
                </div>
                <div class="trust-badge-item">
                    <i class="fas fa-star"></i>
                    <span>Free Forever</span>
                </div>
                <div class="trust-badge-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Verified Method</span>
                </div>
            </div>
        </div>

        <div class="select-title">
            SELECT UP TO 3 ITEMS YOU WANT FOR FREE
        </div>

        <div class="selection-controls">
            <div id="selection-limit-message">
                <i class="fas fa-exclamation-triangle"></i> You can only select up to 3 items.
            </div>
        </div>

        <div class="items-grid" id="itemsGrid">
            <div class="item-card">
                <img alt="Celularcini Viciosini" class="item-img" src="https://i.postimg.cc/NFchdQhQ/Screenshot-2025-11-15-061735-Edited.png" />
                <div class="item-name">Celularcini Viciosini</div>
            </div>
            <div class="item-card">
                <img alt="LOS TACO BLOCKS" class="item-img" src="https://i.postimg.cc/YqzZCCMT/Los-Taco-Blocks-INGAME.webp" />
                <div class="item-name">LOS TACO BLOCKS</div>
            </div>
            <div class="item-card">
                <img alt="Dul Dul Dul" class="item-img" src="https://i.postimg.cc/5015Y20j/Dul-Dul-Dul.webp" />
                <div class="item-name">Dul Dul Dul</div>
            </div>
            <div class="item-card">
                <img alt="Dragon cannelloni" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/3/31/Nah_uh.png" />
                <div class="item-name">Dragon cannelloni</div>
            </div>
            <div class="item-card">
                <img alt="67" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/8/83/BOIIIIIII_SIX_SEVEN_%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82%F0%9F%98%82.png" />
                <div class="item-name">67</div>
            </div>
            <div class="item-card">
                <img alt="Tralaledon" class="item-img" src="https://i.postimg.cc/MKm6Xxz3/Tung-Tung-Sahur.webp" />
                <div class="item-name">Tung Tung Tung Sahur</div>
            </div>
            <div class="item-card">
                <img alt="Strawberry Elephant" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/5/58/Strawberryelephant.png" />
                <div class="item-name">Strawberry Elephant</div>
            </div>
            <div class="item-card">
                <img alt="ToToTo Sahur" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/d/d0/TO_TO_TO_SAHUR_IS_COOL.png" />
                <div class="item-name">ToToTo Sahur</div>
            </div>
            <div class="item-card">
                <img alt="Helicopterino" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/6/61/UPokf8FmxyJj4JnktOIdNuJvgtV0vcQRYJLslXal.png" />
                <div class="item-name">Helicopterino</div>
            </div>
            <div class="item-card">
                <img alt="Tictac sahur" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/c/c9/Tictac_Sahur_png.png" />
                <div class="item-name">Tictac sahur</div>
            </div>
            <div class="item-card">
                <img alt="Tung Tung sahur" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/e/e3/Tung_Tung_Tung_Sahur.png" />
                <div class="item-name">Tung Tung sahur</div>
            </div>
            <div class="item-card">
                <img alt="La vacca saturno" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/5/5f/Candy_La_Vacca_Saturno_Saturnita.png" />
                <div class="item-name">La vacca saturno</div>
            </div>
            <div class="item-card">
                <img alt="La grande" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/d/d8/Carti.png" />
                <div class="item-name">La grande</div>
            </div>
            <div class="item-card">
                <img alt="La Cucaracha" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/4/46/La_Cucaracha.png" />
                <div class="item-name">La Cucaracha</div>
            </div>
            <div class="item-card">
                <img alt="La Bros" class="item-img" src="https://static.wikia.nocookie.net/stealabr/images/5/53/BROOOOOOOO.png" />
                <div class="item-name">La Bros</div>
            </div>
        </div>
        
        <button id="continue-btn">
            <i class="fas fa-gift"></i> CLAIM
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>
    
    <div class="cliameds"></div>
    
    <div class="purchase-popup" id="purchase-popup">
        <div class="popup-content">
        </div>
    </div>

    <!-- EXIT INTENT POPUP -->
    <div class="exit-intent-popup" id="exitIntentPopup">
        <div class="exit-popup-content">
            <span class="exit-close" onclick="closeExitPopup()">×</span>
            <h3><i class="fas fa-gift"></i> Wait! Don't Miss Out!</h3>
            <p>You're about to leave without claiming your FREE items! Complete one quick offer and get instant access to all selected items.</p>
            <button class="exit-popup-btn" onclick="claimFromExit()">
                <i class="fas fa-bolt"></i> Claim My Items Now
            </button>
        </div>
    </div>
    
    <!-- LOCKER POPUP -->
    <div id="locker" class="locker-overlay">
        <div class="locker-box">
            <span class="close-btn" onclick="closeLocker()">×</span>
            
            <div class="locker-header">
                <div class="locker-logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>Steal a Brainrot Secure Items</span>
                </div>
            </div>
            
            <div class="game-preview-locker" id="gamePreviewLocker"></div>
            
            <h2>⚡ Items Verification</h2>
            <p class="cta-strong">Complete one quick offer to unlock your items + exclusive bonus content!</p>
            
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-header">
                    <span><i class="fas fa-lock"></i> Security Check</span>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="progress-bar">
                    <div id="progressFill"></div>
                </div>
                <div class="progress-text">
                    <span>Preparing your items...</span>
                    <span><i class="fas fa-shield-check"></i> Secure</span>
                </div>
            </div>
            
            <p id="statusMessage">🔄 Initializing secure items...</p>
            
            <!-- Offers Section (Shows after progress) -->
            <div id="offersSection" class="offers-section">
                <h3><i class="fas fa-gift"></i> Choose Your Offer</h3>
                <div id="offersList"></div>
                
                <div class="trust-badges">
                    <div class="trust-badge">
                        <i class="fas fa-shield-check"></i>
                        <span>100% Secure</span>
                    </div>
                    <div class="trust-badge">
                        <i class="fas fa-clock"></i>
                        <span>1-3 Minutes</span>
                    </div>
                    <div class="trust-badge">
                        <i class="fas fa-bolt"></i>
                        <span>Instant Access</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <audio id="dingSound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_63c49c13c8.mp3" type="audio/mpeg">
    </audio>
    <audio id="clickSound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_63c49c13c8.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        // LOCKER CONFIGURATION
        const API_KEY = "3b17a09c1ca2bba2d52ffadab4894374";
        const USER_ID = "504359";

        // Current selection state
        let currentPlatform = null;
        let progressInterval;
        let exitIntentTriggered = false;
        let selectedItemsData = null;

        // Stock countdown for urgency
        let stockCount = 47;
        function updateStockCount() {
            if (stockCount > 1) {
                stockCount -= Math.floor(Math.random() * 2) + 1;
                if (stockCount < 1) stockCount = Math.floor(Math.random() * 10) + 1;
            } else {
                stockCount = Math.floor(Math.random() * 20) + 10;
            }
            document.getElementById('stockCount').textContent = stockCount;
            document.getElementById('stockCount2').textContent = stockCount;
        }
        setInterval(updateStockCount, 15000);

        // Function to generate random number between 200 and 1200
        function randomUsers() {
            return Math.floor(Math.random() * (1200 - 200 + 1)) + 200;
        }

        function updateActiveUsers() {
            const count = randomUsers();
            document.getElementById('activeUsersCount').textContent = count.toLocaleString();
        }
        updateActiveUsers();
        setInterval(updateActiveUsers, 4000);

        // Notifications code
        const avatars = [
            'https://dress2.pages.dev/avatars/avatar1.png', 'https://dress2.pages.dev/avatars/avatar2.png', 'https://dress2.pages.dev/avatars/avatar3.png', 'https://dress2.pages.dev/avatars/avatar4.png', 'https://dress2.pages.dev/avatars/avatar5.png', 'https://dress2.pages.dev/avatars/avatar6.png', 'https://dress2.pages.dev/avatars/avatar7.png', 'https://dress2.pages.dev/avatars/avatar8.png', 'https://dress2.pages.dev/avatars/avatar9.png', 'https://dress2.pages.dev/avatars/avatar10.png'
        ];
        const items = [
            'Celularcini Viciosini', 'LOS TACO BLOCKS', 'Dul Dul Dul', 'Dragon cannelloni', '67', 'Tralaledon', 'Strawberry Elephant', 'ToToTo Sahur', 'Helicopterino', 'Tictac sahur', 'Tung Tung sahur', 'La vacca saturno', 'La grande', 'La Cucaracha', 'La Bros'
        ];
        const usernames = [
            'MADELYN2', 'zontir99', 'marcos10', 'Queen_lisa1', 'LANA11', 'HAMZA22', 'tbonmk2', 'caroline34', 'dimaraja10', 'asktiyal9hba', 'ronaldo7', 'sidi_binzarn1', 'DERKAOUI_ZAML1', 'Tizit.botsot', 'Achnid22'
        ];
        let notificationInterval;
        let popupOpen = false;

        function startNotifications() {
            if (popupOpen) return;
            notificationInterval = setInterval(function() {
                if (popupOpen) return;
                $(".cliameds").fadeIn();
                const randomUsername = usernames[Math.floor(Math.random() * usernames.length)];
                const randomItem = items[Math.floor(Math.random() * items.length)];
                const randomAvatar = avatars[Math.floor(Math.random() * avatars.length)];
                const timeAgo = Math.floor(Math.random() * 3) + 1;
                
                var html = `
          <div class="message">
            <div class="img"><img src="${randomAvatar}" alt=""></div>
            <div class="more">
              <div>${randomUsername}</div>
              <div>Just claimed <strong>'${randomItem}'</strong> ${timeAgo} minute${timeAgo > 1 ? 's' : ''} ago! 🎉</div>
            </div>
          </div>
        `;
                $(".cliameds").html(html);
                setTimeout(function() {
                    $(".cliameds").fadeOut();
                }, 3500);
            }, 4500);
        }

        function stopNotifications() {
            clearInterval(notificationInterval);
            $(".cliameds").fadeOut();
        }
        startNotifications();

        // Enhanced Exit Intent Detection
        let exitIntentShown = false;
        document.addEventListener('mouseout', function(e) {
            if (!e.toElement && !e.relatedTarget && !exitIntentShown && !popupOpen && e.clientY < 10) {
                exitIntentShown = true;
                showExitIntentPopup();
            }
        });

        // Exit Intent Popup Functions
        function showExitIntentPopup() {
            if (popupOpen || exitIntentTriggered) return;
            popupOpen = true;
            stopNotifications();
            document.body.classList.add('no-scroll');
            document.getElementById('exitIntentPopup').style.display = 'flex';
        }

        function closeExitPopup() {
            document.getElementById('exitIntentPopup').style.display = 'none';
            document.body.classList.remove('no-scroll');
            popupOpen = false;
            startNotifications();
        }

        function claimFromExit() {
            closeExitPopup();
            if (selectedItemsData) {
                showPurchasePopup(selectedItemsData.itemName, selectedItemsData.itemImages);
            } else {
                // Scroll to items if nothing selected
                document.querySelector('.items-grid').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // LOCKER FUNCTIONS
        function openLocker(username, itemName, itemImages) {
            popupOpen = true;
            stopNotifications();
            document.body.classList.add('no-scroll');
            document.getElementById("locker").style.display = "flex";
            
            // Hide offers section initially
            document.getElementById("offersSection").style.display = "none";
            
            // Show selected items in locker
            const selectedCount = itemImages.length;
            const firstImage = itemImages.length > 0 ? itemImages[0] : 'https://static.wikia.nocookie.net/stealabr/images/7/76/Childhood_gambling.png';
            
            document.getElementById("gamePreviewLocker").innerHTML = `
                <img src="${firstImage}" alt="Steal a Brainrot" />
                <div class="game-preview-content">
                    <h3>Steal a Brainrot - ${itemName}</h3>
                    <p class="file-info">📦 ${selectedCount} Selected Items • 🕒 Updated: Today</p>
                    <div class="platform-badge">👤 ${username}</div>
                </div>`;
                
            // Start progress bar
            startOptimizedProgressBar();
        }

        function startOptimizedProgressBar(){
            let currentProgress = 0;
            let fill = document.getElementById("progressFill");
            let percent = document.getElementById("progressPercent");
            let status = document.getElementById("statusMessage");
            
            const messages = [
                "🔄 Checking device compatibility...",
                "✅ Scanning for security threats...",
                "🔐 Verifying file integrity...",
                "⚡ Optimizing items speed...",
                "🧠 Preparing Brainrot content..."
            ];
            
            clearInterval(progressInterval);
            progressInterval = setInterval(() => {
                if(currentProgress >= 100){
                    clearInterval(progressInterval);
                    fill.style.width = "100%";
                    percent.textContent = "100%";
                    status.innerHTML = "✅ <strong>Ready! Choose an offer to unlock your items</strong>";
                    
                    // Show offers section when progress completes
                    document.getElementById("offersSection").style.display = "block";
                    
                    // Load offers after progress completes
                    loadOffers();
                } else {
                    currentProgress += 3 + Math.random() * 4;
                    if(currentProgress > 100) currentProgress = 100;
                    fill.style.width = currentProgress + "%";
                    percent.textContent = Math.round(currentProgress) + "%";
                    
                    let msgIndex = Math.floor(currentProgress / 20);
                    if(msgIndex < messages.length) {
                        status.textContent = messages[msgIndex];
                    }
                }
            }, 100);
        }

        function loadOffers() {
            // Show loading state
            document.getElementById("offersList").innerHTML = "<p style='color: #aaa; text-align: center; padding: 20px;'><i class='fas fa-spinner fa-spin'></i> Loading offers...</p>";
            
            // Use fetch with timeout
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 8000);
            
            fetch(`https://d3k0q5ez56odtk.cloudfront.net/public/offers/feed.php?user_id=${USER_ID}&api_key=${API_KEY}&s1=steal%20a%20brainrot`, {
                signal: controller.signal
            })
            .then(res => res.json())
            .then(offers => {
                clearTimeout(timeoutId);
                
                if(!offers || !Array.isArray(offers) || offers.length === 0){
                    showFallbackOffers();
                    return;
                }
                
                displayOffers(offers);
            })
            .catch(() => { 
                clearTimeout(timeoutId);
                showFallbackOffers();
            });
        }

        function showFallbackOffers() {
            const fallbackOffers = [
                {
                    anchor: "Complete Quick Survey (1-2 minutes)",
                    url: "https://example.com/survey1",
                    type: "survey"
                },
                {
                    anchor: "Watch Short Video Ad (45-60 seconds)", 
                    url: "https://example.com/video1",
                    type: "video"
                },
                {
                    anchor: "Free App Trial (2-3 minutes)",
                    url: "https://example.com/trial1",
                    type: "trial"
                },
                {
                    anchor: "Quick Registration (1-2 minutes)",
                    url: "https://example.com/register1",
                    type: "registration"
                }
            ];
            
            displayOffers(fallbackOffers);
        }

        function displayOffers(offers) {
            let html = "";
            const badges = ["⭐ Recommended", "⚡ Easy", "🔥 Popular", "🚀 Quick"];
            
            // Sort offers by potential conversion (you can customize this)
            offers.slice(0,4).forEach((offer, index) => {
                const timeOptions = [60, 90, 120, 150];
                const timeEstimate = timeOptions[index] || 120;
                const successRate = 88 + Math.floor(Math.random() * 8);
                const usersCompleted = Math.floor(Math.random() * 80000) + 50000;
                const offerType = offer.type || ['survey', 'video', 'trial', 'registration'][index];
                
                html += `
                <div class="offer-card" onclick="selectOffer('${offer.url}', 'Steal a Brainrot', 'web', '${offerType}', '${offer.anchor || "Quick Task"}')">
                    <div class="offer-content">
                        <div class="offer-title">${offer.anchor || "Complete Quick Task"}</div>
                        <div class="offer-details">
                            <div class="offer-detail"><i class="fas fa-check-circle"></i> ${successRate}% Success</div>
                            <div class="offer-detail"><i class="fas fa-clock"></i> ${Math.floor(timeEstimate/60)} min</div>
                            <div class="offer-detail"><i class="fas fa-users"></i> ${(usersCompleted/1000).toFixed(0)}K+ completed</div>
                        </div>
                    </div>
                    <div class="offer-badge">${badges[index] || "Special"}</div>
                </div>`;
            });
            document.getElementById("offersList").innerHTML = html;
        }

        function selectOffer(url, gameName, platform, offerType, offerTitle) {
            console.log(`🎯 LEAD CAPTURED: Steal a Brainrot - ${platform} - ${offerType} - "${offerTitle}"`);
            
            trackAdBlueMediaConversion(gameName, platform, offerType, offerTitle);
            
            const trackingParams = `&subid=${USER_ID}_brainrot_web&game=Steal_a_Brainrot&platform=web&offer_type=${offerType}&source=stealabrainrot.com`;
            const trackedUrl = url + (url.includes('?') ? '&' : '?') + trackingParams;
            
            document.getElementById("statusMessage").innerHTML = 
                "✅ <strong>Opening offer...</strong> Complete it to unlock your items!";
            
            const clickSound = document.getElementById('clickSound');
            if (clickSound) {
                clickSound.currentTime = 0;
                clickSound.play().catch(() => {});
            }
            
            window.open(trackedUrl, '_blank');
            
            setTimeout(() => {
                document.getElementById("statusMessage").innerHTML = 
                    "✅ <strong>Offer opened!</strong> Complete it to receive your items...";
                
                setTimeout(() => {
                    alert(`🎉 Your items for Steal a Brainrot will be unlocked once you complete the offer!`);
                    closeLocker();
                }, 3000);
            }, 1500);
        }

        function closeLocker(){
            document.getElementById("locker").style.display = "none";
            document.getElementById("progressFill").style.width = "0%";
            document.getElementById("progressPercent").textContent = "0%";
            document.body.classList.remove('no-scroll');
            clearInterval(progressInterval);
            popupOpen = false;
            startNotifications();
        }

        // Enhanced AdBlueMedia lead tracking
        function trackAdBlueMediaConversion(gameName, platform, offerType, offerTitle) {
            const conversionData = {
                user_id: USER_ID,
                api_key: API_KEY,
                game: gameName,
                platform: platform,
                offer_type: offerType,
                offer_title: offerTitle,
                source: 'stealabrainrot.com',
                campaign: 'brainrot_items',
                conversion_type: 'lead',
                timestamp: Date.now(),
                revenue: 0.15
            };

            // Send to AdBlueMedia
            fetch('https://d3k0q5ez56odtk.cloudfront.net/public/conversion/track.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(conversionData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('✅ AdBlueMedia Conversion Tracked:', data);
            })
            .catch(error => {
                console.log('⚠️ AdBlueMedia tracking failed:', error);
            });

            // Also track in localStorage for analytics
            try {
                const trackingHistory = JSON.parse(localStorage.getItem('adbluemedia_conversions') || '[]');
                trackingHistory.push(conversionData);
                localStorage.setItem('adbluemedia_conversions', JSON.stringify(trackingHistory.slice(-50)));
            } catch(e) {}
        }

        // Exit intent prevention
        document.getElementById('locker').addEventListener('click', function(e) {
            if (e.target === this) {
                document.getElementById("statusMessage").innerHTML = 
                    "⚠️ <strong>Complete an offer to unlock your items for free!</strong>";
            }
        });

        // Fixed username popup functions
        const showPurchasePopup = (itemName, itemImages) => {
            popupOpen = true;
            stopNotifications();
            document.body.classList.add('no-scroll');
            const popup = document.getElementById('purchase-popup');
            const popupContent = popup.querySelector('.popup-content');

            // Store for exit intent
            selectedItemsData = { itemName, itemImages };

            const selectedCount = itemImages.length;
            const promptText = selectedCount > 1 ?
                `Would you like to get these ${selectedCount} items for FREE?` :
                `Would you like to Get "<span style="color: #667eea;">${itemName}</span>" for FREE?`;

            let imagesHTML = '<div class="selected-images-container">';
            itemImages.forEach(src => {
                imagesHTML += `<img src="${src}" alt="Selected Item" class="item-popup-image-small">`;
            });
            imagesHTML += '</div>';

            popupContent.innerHTML = `
        <div class="popup-header">
          <h3><i class="fas fa-gift"></i> Get Item(s)</h3>
        </div>
        ${imagesHTML}
        <p class="item-confirm">${promptText}</p>
        <div class="input-group">
          <input type="text" id="username-input" placeholder="Enter your Roblox username" autocomplete="off">
        </div>
        <div class="user-error d-none">Please enter a valid username</div>
        <div class="popup-buttons">
          <button class="cancel-btn">Cancel</button>
          <button class="free-btn" id="search-user-btn">
            <span class="free-icon">✓</span>
            <span class="free-badge">Get FREE</span>
          </button>
        </div>
      `;
            popupContent.querySelector('.cancel-btn').addEventListener('click', closePurchasePopup);
            popupContent.querySelector('#search-user-btn').addEventListener('click', function() {
                const clickSound = document.getElementById('clickSound');
                if (clickSound) {
                    clickSound.currentTime = 0;
                    clickSound.play().catch(() => {});
                }
                const username = document.getElementById('username-input').value.trim();
                if (!username || username.length < 3) {
                    const errorEl = popupContent.querySelector('.user-error');
                    errorEl.classList.remove('d-none');
                    setTimeout(() => errorEl.classList.add('d-none'), 3000);
                    return;
                }
                showSearchingState(username, itemName, itemImages);
            });
            popup.style.display = 'flex';
            setTimeout(() => document.getElementById('username-input').focus(), 100);
        };

        const closePurchasePopup = () => {
            document.getElementById('purchase-popup').style.display = 'none';
            document.body.classList.remove('no-scroll');
            popupOpen = false;
            startNotifications();
        };

        const showSearchingState = (username, itemName, itemImages) => {
            const popupContent = document.querySelector('.popup-content');
            popupContent.innerHTML = `
        <div class="popup-header">
          <h3><i class="fas fa-search"></i> Verifying User</h3>
        </div>
        <div style="text-align:center;padding:20px">
          <div class="folding">
            <div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div>
          </div>
          <p class="searching-text">Searching for @${username}...</p>
        </div>
      `;
            
            // Simulate API call with timeout
            setTimeout(() => {
                showSuccessState(username, itemName, itemImages);
            }, 2000);
        };

        const showSuccessState = (username, itemName, itemImages) => {
            const popupContent = document.querySelector('.popup-content');
            popupContent.innerHTML = `
        <div class="popup-header">
          <h3><i class="fas fa-check-circle"></i> User Found</h3>
        </div>
        <div style="text-align:center;padding:20px">
          <p class="result-username">@${username}</p>
          <p style="color: #aaa; margin: 10px 0;">Ready to claim your items!</p>
          <button class="get-item-now-btn">
            <i class="fas fa-arrow-right"></i> Continue to Claim
          </button>
        </div>
      `;
            popupContent.querySelector('.get-item-now-btn').addEventListener('click', function() {
                const clickSound = document.getElementById('clickSound');
                if (clickSound) {
                    clickSound.currentTime = 0;
                    clickSound.play().catch(() => {});
                }
                closePurchasePopup();
                openLocker(username, itemName, itemImages);
            });
        };

        const showErrorState = (username, itemName, itemImages) => {
            const popupContent = document.querySelector('.popup-content');
            popupContent.innerHTML = `
        <div class="popup-header">
          <h3><i class="fas fa-exclamation-triangle"></i> Error</h3>
        </div>
        <div style="text-align:center;padding:20px">
          <p class="searching-text" style="color: #ff6b6b;">User @${username} not found</p>
          <button class="get-item-now-btn" id="retry-btn">Try Again</button>
        </div>
      `;
            popupContent.querySelector('#retry-btn').addEventListener('click', function() {
                showPurchasePopup(itemName, itemImages);
            });
        };

        // --- MAIN SCRIPT ---
        function initItemSelection() {
            const dingSound = document.getElementById('dingSound');
            const MAX_SELECTIONS = 3;
            const limitMessage = document.getElementById('selection-limit-message');
            const continueBtn = document.getElementById('continue-btn');

            // Item Selection Logic - Using both jQuery and vanilla JS for reliability
            function handleItemClick(e) {
                e.preventDefault();
                e.stopPropagation();
                
                const itemCard = e.currentTarget;
                const isSelected = itemCard.classList.contains('selected');
                const selectedCards = document.querySelectorAll('.item-card.selected');
                const selectedCount = selectedCards.length;

                if (limitMessage) {
                    limitMessage.style.display = 'none';
                }

                if (isSelected) {
                    itemCard.classList.remove('selected');
                } else {
                    if (selectedCount < MAX_SELECTIONS) {
                        itemCard.classList.add('selected');
                        if (dingSound) {
                            dingSound.currentTime = 0;
                            dingSound.play().catch(() => {});
                        }
                    } else {
                        if (limitMessage) {
                            limitMessage.style.display = 'block';
                            setTimeout(() => {
                                if (limitMessage) {
                                    limitMessage.style.opacity = '0';
                                    setTimeout(() => {
                                        if (limitMessage) limitMessage.style.display = 'none';
                                    }, 300);
                                }
                            }, 3000);
                        }
                    }
                }

                const currentSelected = document.querySelectorAll('.item-card.selected');
                if (continueBtn) {
                    if (currentSelected.length > 0) {
                        continueBtn.style.display = 'block';
                        continueBtn.style.opacity = '1';
                    } else {
                        continueBtn.style.opacity = '0';
                        setTimeout(() => {
                            if (continueBtn) continueBtn.style.display = 'none';
                        }, 300);
                    }
                }
            }

            // Attach click handlers to all item cards
            const itemCards = document.querySelectorAll('.item-card');
            itemCards.forEach(function(card) {
                // Remove any existing listeners
                card.removeEventListener('click', handleItemClick);
                // Add new listener
                card.addEventListener('click', handleItemClick);
                // Also add jQuery handler as backup
                if (typeof $ !== 'undefined') {
                    $(card).off('click').on('click', handleItemClick);
                }
            });

            // Continue Button Click Logic
            if (continueBtn) {
                continueBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const selectedItems = document.querySelectorAll('.item-card.selected');
                    if (selectedItems.length === 0) return;

                    const itemNames = Array.from(selectedItems).map(function(card) {
                        const nameEl = card.querySelector('.item-name');
                        return nameEl ? nameEl.textContent.trim() : '';
                    }).filter(name => name).join(', ');

                    const itemImages = Array.from(selectedItems).map(function(card) {
                        const imgEl = card.querySelector('.item-img');
                        return imgEl ? imgEl.getAttribute('src') : '';
                    }).filter(img => img);

                    if (itemNames && itemImages.length > 0) {
                        showPurchasePopup(itemNames, itemImages);
                    }
                });
            }
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initItemSelection);
        } else {
            initItemSelection();
        }

        // Also use jQuery ready as backup
        if (typeof $ !== 'undefined') {
            $(document).ready(function() {
                initItemSelection();
            });
        }
    </script>
</body>
</html>
